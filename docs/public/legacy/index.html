<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>小游戏大厅</title>
    <link rel="icon" type="image/svg+xml" href="./assets/icons/favicon.svg" />
    <link rel="stylesheet" href="./styles/main.css" />
  </head>
  <body>
    <main class="app-shell">
      <section id="menuView" class="menu-view">
        <header class="menu-header">
          <h1>小游戏大厅 · Arcade Hub</h1>
          <p>选择你想玩的游戏，随时可以返回大厅切换。</p>
        </header>

        <div class="menu-grid">
          <button class="menu-btn" data-game="tetris" type="button">
            <strong>俄罗斯方块 · Tetris</strong>
            <span>让方块严丝合缝，完成整行消除。</span>
          </button>
          <button class="menu-btn" data-game="snake" type="button">
            <strong>贪吃蛇 · Snake</strong>
            <span>一路觅食变长，谨慎转向避免相撞。</span>
          </button>
          <button class="menu-btn" data-game="minesweeper" type="button">
            <strong>扫雷 · Minesweeper</strong>
            <span>根据数字线索排雷，旗标与快开都可用。</span>
          </button>
          <button class="menu-btn" data-game="spider" type="button">
            <strong>蜘蛛纸牌 · Spider Solitaire</strong>
            <span>按花色整理序列，逐步清空整桌纸牌。</span>
          </button>
          <button class="menu-btn" data-game="dino" type="button">
            <strong>奔跑小恐龙 · Dino Runner</strong>
            <span>看准时机跳过障碍，冲击更远距离。</span>
          </button>
          <button class="menu-btn" data-game="flappy" type="button">
            <strong>像素小鸟 · Flappy Bird</strong>
            <span>轻触起飞穿越管道，稳住节奏拿高分。</span>
          </button>
          <button class="menu-btn" data-game="game2048" type="button">
            <strong>数字方阵 · 2048</strong>
            <span>滑动合并数字，朝 2048 持续进阶。</span>
          </button>
        </div>
      </section>

      <section id="gameView" class="game-view hidden">
        <div class="topbar">
          <button id="backToMenu" class="back-btn" type="button">返回菜单</button>
          <h2 id="gameTitle">游戏</h2>
          <button id="infoToggleBtn" class="back-btn info-toggle-btn hidden" type="button" aria-expanded="false">信息</button>
        </div>

        <div class="layout">
          <section class="panel">
            <canvas id="mainCanvas" width="480" height="600" aria-label="游戏主画布"></canvas>
            <p id="stateText" class="state">准备开始</p>
          </section>

          <aside id="sidePanel" class="side">
            <div class="card">
              <h3>状态</h3>
              <div id="statusList" class="status-list"></div>
            </div>

            <div id="nextCard" class="card hidden">
              <h3>下一个</h3>
              <canvas id="nextCanvas" width="120" height="120" aria-label="下一个方块预览"></canvas>
            </div>

            <div id="holdCard" class="card hidden">
              <h3>暂存 Hold</h3>
              <canvas id="holdCanvas" width="120" height="120" aria-label="暂存方块预览"></canvas>
            </div>

            <div id="settingsCard" class="card hidden">
              <h3>视觉设置</h3>
              <div id="settingsContainer" class="settings"></div>
            </div>

            <div class="card">
              <h3>操作</h3>
              <div id="controlsList" class="controls-list"></div>
            </div>
          </aside>
        </div>

        <section id="mobileControls" class="mobile-controls hidden" aria-label="移动端操作"></section>

        <section id="infoDrawer" class="info-drawer hidden" aria-label="移动端信息抽屉">
          <div id="infoDrawerContent" class="info-drawer-content"></div>
        </section>

        <div id="orientationOverlay" class="orientation-overlay hidden" role="status" aria-live="polite">
          <div class="orientation-card">
            <h3>建议横屏游玩</h3>
            <p id="orientationMessage">横屏可以获得更完整的操作区域和更稳定的触控体验。</p>
            <button id="continuePortraitBtn" type="button" class="back-btn">继续竖屏游玩</button>
          </div>
        </div>
      </section>
    </main>

    <script src="./scripts/core/ui.js?v=20260221-2"></script>
    <script src="./scripts/core/game-manager.js?v=20260221-2"></script>
    <script src="./scripts/core/loop.js?v=20260221-2"></script>
    <script src="./scripts/games/tetris.js?v=20260221-2"></script>
    <script src="./scripts/games/snake.js?v=20260221-2"></script>
    <script src="./scripts/games/minesweeper.js?v=20260221-2"></script>
    <script src="./scripts/games/spider.js?v=20260221-2"></script>
    <script src="./scripts/games/dino.js?v=20260221-2"></script>
    <script src="./scripts/games/flappy.js?v=20260221-2"></script>
    <script src="./scripts/games/game2048.js?v=20260221-2"></script>
    <script src="./scripts/app.js?v=20260221-2"></script>
  </body>
</html>

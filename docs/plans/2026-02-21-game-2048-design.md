# 2048 经典版设计

日期：2026-02-21

## 目标
- 新增经典 2048 小游戏。
- 同时支持电脑端方向键操作与手机端滑动操作。
- 规则对齐原版：有效移动后新增砖块，2/4 概率 90%/10%，同回合单次合并，达成 2048 后可继续。

## 规则定义
- 棋盘：4x4。
- 初始：随机生成 2 个砖块（2 或 4）。
- 移动：上/下/左/右四方向。
- 合并：仅同值相邻砖块，且同一移动中每个砖块最多参与一次合并。
- 生成：仅当棋盘状态发生变化时，新增 1 个随机砖块。
- 结束：无空格且四方向都不可移动。
- 胜利：首次达到 2048 时提示，但继续游戏。

## 交互
- 电脑端：方向键移动，R 重开。
- 手机端：在主画布滑动触发移动（阈值约 10px），R 仍可重开。

## UI
- 复用主画布绘制棋盘与砖块。
- 侧栏显示：分数、最高分、步数、最大砖块。
- 设置项：2048 达成提示开关。

## 接入文件
- 新增：`docs/scripts/games/game2048.js`
- 修改：`docs/scripts/app.js`、`docs/scripts/core/game-manager.js`、`docs/index.html`
- 测试：新增 `tests/game2048_smoke.sh`，并更新结构/发布 smoke 清单。

## 参考规则来源
- 原版仓库：https://github.com/gabrielecirulli/2048
- 规则实现参考：
  - https://raw.githubusercontent.com/gabrielecirulli/2048/master/js/game_manager.js
  - https://raw.githubusercontent.com/gabrielecirulli/2048/master/js/keyboard_input_manager.js

